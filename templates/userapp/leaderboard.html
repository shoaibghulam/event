{% extends 'userapp/base.html' %}
{% load static %}
{% block body %}
<style>
  .dataTable-sorter{ text-align: center;}
</style>
<div class="container-fluid">
  <h1 class="text-center">Progress </h1>
<div style="width:80%; margin:0 auto">
  <div class="data_tables">
    <table id="example" class=" table table-full text-center" cellspacing="0" width="100%">
      <thead >
        <tr >
          <th>Name</th>
          <th >progress</th>
        
        </tr>
      </thead>
      <tbody id="tbody">

      </tbody>
    </table>
  </div>
</div>
   
</div>
{% endblock body %}
{% block script %}
<script>
var table = new DataTable("table");
  var shoaib="";
var comp="";
$.ajax({
  url:'/leaderboarddata',
  type:'GET',
  success: function(data){
    shoaib=data;

    var dataset=eval(data);
      shoaib = dataset
      
    // for(x=0;x<dataset.length;x++){
    //   var  kcal=(dataset[x].meter/1000) * dataset[x].weight *1.036;
    //   comp+=`
    //   <tr>
    //   <td>${dataset[x].user_id.Name}</td>
    //   <td>${kcal}</td>
    //   </tr>
    //   `;
    // }
  
     for(x=0;x<dataset.length;x++){
      var  pre=(dataset[x].EventId__distance/100) * dataset[x].meter;
     console.log(pre)
      comp+=`
      <tr>
      <td>${dataset[x].user_id__Name}</td>
      <td>${pre}%</td>
      </tr>
      `;
    }
    $('#tbody').html(comp)
    

  }
})
</script>
{% endblock script %}