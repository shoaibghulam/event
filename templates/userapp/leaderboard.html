{% extends 'userapp/base.html' %}
{% load static %}
{% block body %}

<div class="container-fluid">

    <div class="row text-center" id="alldata">
      
  
        
      
       
    </div>
</div>
{% endblock body %}
{% block script %}
<script>
  var shoaib="";
var comp="";
$.ajax({
  url:'/leaderboarddata',
  type:'GET',
  success: function(data){
    var dataset=eval(data);
      shoaib = dataset
    for(x=0;x<dataset.length;x++){
      var  kcal=(dataset[x].meter/1000) * dataset[x].weight *1.036;
      comp+=`
      <div class="col-lg-4 col-md-6 col-sm-12 mt-4 mb-4" style="margin-bottom:100px;">
       
       <div class="row">
    
   
        <table style="margin-top:20px;" width="100%">
            <tbody>
                <tr style="text-align: center;">
                   <h1>${dataset[x].user_id.Name}</h1>
                </tr>
                <tr>
              <th>&nbsp;</th>
              <th style="background-color:#009551; color:#ffffff;"><center>Event Progress</center></th>
              <th>&nbsp;</th>
            </tr>
            <tr>
              <td width="5%">&nbsp;</td>
              <td style="background-color:#00a65a;  padding:10px;" width="90%" align="center"><h3  style="color:#ffffff;">20.4455 %</h3></td>
              <td width="5%">&nbsp;</td>
            </tr>
          </tbody></table>

        <table style="margin-top:20px " width="100%">
            <tbody><tr>
              <th>&nbsp;</th>
              <th style="background-color:#DA8C10; color:#ffffff;"><center>Calories Burned</center></th>
              <th>&nbsp;</th>
            </tr>
            <tr>
              <td width="5%">&nbsp;</td>
              <td style="background-color:#F29C10; padding:10px;" width="90%" align="center"><h3 style="color:#ffffff;">${kcal} kCal</h3></td>
              <td width="5%">&nbsp;</td>
            </tr>
          </tbody></table>
        
    
</div>

    </div>
      
      `;
    }
    $('#alldata').html(comp)
    

  }
})
</script>
{% endblock script %}